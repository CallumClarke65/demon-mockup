<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Alerting Actions Mockup</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    body {
      background-color: #ffffff; /* white background */
      color: #000000; /* black text */
      font-family: "Segoe UI", sans-serif;
    }

    h1 {
      color: #28a745; /* green heading */
      margin-bottom: 1.5rem;
    }

    .card {
      border-radius: 0.5rem;
      border: 2px solid #28a745; /* green border */
    }

    .form-control, .form-select, textarea {
      background-color: #f8f9fa;
      color: #000;
      border-color: #28a745;
    }

    .form-control:focus, .form-select:focus {
      border-color: #28a745;
      box-shadow: 0 0 0 0.2rem rgba(40,167,69,0.25);
    }

    .btn-custom {
      background-color: #28a745;
      color: #fff;
    }

    .btn-custom:hover {
      background-color: #218838;
    }

    .action-bubble {
      background-color: #d4edda; /* light green */
      color: #155724; /* dark green text */
      border-radius: 1rem;
      padding: 0.75rem 1rem;
      margin-bottom: 0.5rem;
      font-size: 0.95rem;
    }

    .action-type {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container py-5">
    <h1>Alerting Actions</h1>

    <!-- Action Selection -->
    <div class="card p-4 mb-4">
      <div class="mb-3">
        <label for="actionType" class="form-label">Select Action Type</label>
        <select id="actionType" class="form-select">
          <option value="sms">SMS</option>
          <option value="email">Email / SMTP</option>
          <option value="http">HTTP POST</option>
          <option value="alarm">Activate On-Site Alarm</option>
          <option value="push">Push Notification</option>
        </select>
      </div>

      <div id="actionForm">
        <!-- Dynamic form fields will appear here -->
      </div>

      <button id="addActionBtn" class="btn btn-custom mt-3">Add Action</button>
    </div>

    <!-- Added Actions -->
    <h2 class="mb-3">Configured Actions</h2>
    <div id="actionsList">
      <!-- Each added action will appear as a green bubble -->
    </div>
  </div>

  <script>
    const actionForm = document.getElementById('actionForm');
    const actionType = document.getElementById('actionType');
    const actionsList = document.getElementById('actionsList');
    const addActionBtn = document.getElementById('addActionBtn');

    const forms = {
      sms: `
        <div class="mb-3">
          <label class="form-label">Phone Number</label>
          <input type="text" class="form-control" placeholder="+44 700 123 4567" id="smsNumber">
        </div>
        <div class="mb-3">
          <label class="form-label">Message</label>
          <textarea class="form-control" rows="2" placeholder="Enter SMS message" id="smsMessage"></textarea>
        </div>
      `,
      email: `
        <div class="mb-3">
          <label class="form-label">Recipient Email</label>
          <input type="email" class="form-control" placeholder="example@domain.com" id="emailTo">
        </div>
        <div class="mb-3">
          <label class="form-label">Subject</label>
          <input type="text" class="form-control" placeholder="Alert Subject" id="emailSubject">
        </div>
        <div class="mb-3">
          <label class="form-label">Message</label>
          <textarea class="form-control" rows="2" placeholder="Enter email message" id="emailBody"></textarea>
        </div>
      `,
      http: `
        <div class="mb-3">
          <label class="form-label">Endpoint URL</label>
          <input type="url" class="form-control" placeholder="https://example.com/alert" id="httpUrl">
        </div>
        <div class="mb-3">
          <label class="form-label">Payload (JSON)</label>
          <textarea class="form-control" rows="2" placeholder='{"alert":"fire"}' id="httpPayload"></textarea>
        </div>
      `,
      alarm: `
        <div class="mb-3">
          <label class="form-label">Alarm Zone</label>
          <input type="text" class="form-control" placeholder="Zone 1" id="alarmZone">
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="highPriority">
          <label class="form-check-label" for="highPriority">High Priority</label>
        </div>
      `,
      push: `
        <div class="mb-3">
          <label class="form-label">Device/User ID</label>
          <input type="text" class="form-control" placeholder="Device123" id="pushDevice">
        </div>
        <div class="mb-3">
          <label class="form-label">Message</label>
          <textarea class="form-control" rows="2" placeholder="Enter push notification" id="pushMessage"></textarea>
        </div>
      `
    };

    // Initialize form
    actionForm.innerHTML = forms[actionType.value];

    actionType.addEventListener('change', () => {
      actionForm.innerHTML = forms[actionType.value];
    });

    addActionBtn.addEventListener('click', () => {
      const type = actionType.value;
      let details = '';

      switch (type) {
        case 'sms':
          const number = document.getElementById('smsNumber').value;
          const message = document.getElementById('smsMessage').value;
          details = `<strong>To:</strong> ${number} <br> <strong>Message:</strong> ${message}`;
          break;
        case 'email':
          const to = document.getElementById('emailTo').value;
          const subject = document.getElementById('emailSubject').value;
          const body = document.getElementById('emailBody').value;
          details = `<strong>To:</strong> ${to} <br> <strong>Subject:</strong> ${subject} <br> <strong>Body:</strong> ${body}`;
          break;
        case 'http':
          const url = document.getElementById('httpUrl').value;
          const payload = document.getElementById('httpPayload').value;
          details = `<strong>URL:</strong> ${url} <br> <strong>Payload:</strong> ${payload}`;
          break;
        case 'alarm':
          const zone = document.getElementById('alarmZone').value;
          const high = document.getElementById('highPriority').checked ? 'Yes' : 'No';
          details = `<strong>Zone:</strong> ${zone} <br> <strong>High Priority:</strong> ${high}`;
          break;
        case 'push':
          const device = document.getElementById('pushDevice').value;
          const msg = document.getElementById('pushMessage').value;
          details = `<strong>Device/User:</strong> ${device} <br> <strong>Message:</strong> ${msg}`;
          break;
      }

      const div = document.createElement('div');
      div.className = 'action-bubble';
      div.innerHTML = `<span class="action-type">${type.toUpperCase()}</span><br>${details}`;
      actionsList.appendChild(div);
    });
  </script>
</body>
</html>
